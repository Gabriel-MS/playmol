<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Playmol: Playmol Basics</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<!-- Syntax Highlighting -->
<link rel="stylesheet" href="xcode.css">
<script src="highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="playmol_logo.gif"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">
   </div>
   <div id="projectbrief">(Version: 16 Feb 2017)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('basics.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Playmol Basics </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Introduction </h2>
<p>Playmol is a molecular model builder which intends to facilitate the construction of initial setups for Molecular Dynamics simulations of dense systems. It was initially designed as a bridge between the molecular packing generator <a href="http://www.ime.unicamp.br/~martinez/packmol">Packmol</a> and the popular Molecular Dynamics simulator <a href="http://lammps.sandia.gov">LAMMPS</a>.</p>
<p>The principle of Playmol consists in the bottom-up assembly of molecules and molecular systems by a series of steps like:</p>
<ol type="1">
<li><b>Typification</b>: atom types are defined and combinations of these types are registered as templates for the identification of chemical bonds, angles, dihedrals, and impropers. These are the topological features most usually considered in classical force fields, whose parameters can also be fed to Playmol in this first step.</li>
<li><b>Chemical topology definition</b>: atoms are created and explicitly connected via chemical bonds. This is all Playmol needs to identify chemical compounds and automatically determine the angles and proper dihedrals present in their molecules. Playmol does not automatically detect impropers, but one can point them out manually or ask Playmol to search for impropers of some specific kind.</li>
<li><b>Instantiation</b>: chemical compounds identified in the previous step remain as abstract entities until actual molecules are positioned in space. The <a href="commands.html#build">build</a> command makes it possible to instantiate multiple molecules of each compound in order to create a molecular system.</li>
<li><b>Replication and packing</b>: after instantiating at least one molecule of each compound, Playmol can invoke <a href="http://www.ime.unicamp.br/~martinez/packmol">Packmol</a> to instantiate replicas in random positions, with possibly random orientations, while trying to avoid undesirable overlaps. This allows a dense packing of molecules to be a viable initial configuration for molecular dynamics.</li>
<li><b>Formatting and storage</b>: finally, the system configuration and the force field parameters are stored in a file whose format can be understood by a simulation software such as <a href="http://lammps.sandia.gov">LAMMPS</a>.</li>
</ol>
<p>Practical examples of the use of Playmol can be found in the section describing all Playmol <a href="commands.html">commands</a> and in a special section with sample <a href="scripts.html">scripts</a>.</p>
<hr/>
 <h2>Playmol Scripts </h2>
<p>Playmol interprets scripts composed of specific <a href="commands.html">commands</a>. Each command is a sequence of keywords and parameter values separated by spaces and/or tabs. A script can include comments, identified by the comment mark "#", which instructs Playmol to ignore all trailing characters in the same line. A single command can span several lines by means of continuation marks "&amp;", as in the example below for the <a href="commands.html#bond">bond</a> command:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;bond    C2       &amp; # This is the central carbon atom,</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        C1  C3   &amp; # which makes bonds with two other carbons</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        H21 H22    # and two hydrogens.</div></div><!-- fragment --><p>Except when a <a href="commands.html#for_next">for/next</a> construct or an <a href="commands.html#if_then_else">if/then/else</a> construct is found, the execution flow of a Playmol script is sequential. Interpretation of every command line will always follow the three steps below:</p>
<ol type="1">
<li><b>Substitution of variables</b>: after reading a command line, Playmol will search for references to <a href="#variables">variables</a>. When a reference is found, it will check whether the variable has actually been assigned by a previous <a href="commands.html#define">define</a> command. If so, Playmol will substitute the reference by the corresponding value. This step is repeated until no references are found.</li>
<li><b>Evaluation of mathematical expressions</b>: after replacing all variables, Playmol will look for <a href="basics.html#math">mathematical/logical expressions</a> in the command line, evaluate them, and substitute every expression by its numerical result.</li>
<li><b>Parsing and execution</b>: after finishing the two previous steps, Playmol will parse the command line and try to execute it, in accordance with the syntaxes described in the <a href="commands.html">commands</a> section. The program will post a message and stop if an error occurs.</li>
</ol>
<hr/>
<p> <a class="anchor" id="variables"></a> </p><h2>Variables </h2>
<p>Variable assignment is done via the <a href="commands.html#define">define</a> command. For instance:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;define compound as H2O</div></div><!-- fragment --><p>The following rules must be observed for choosing a variable name:</p>
<ul>
<li>It is case-sensitive.</li>
<li>The first character must necessarily be a letter (A-Z or a-z).</li>
<li>The remaining characters can be letters (A-Z or a-z), numbers (0-9), or underscores (_).</li>
</ul>
<p>A variable can be referenced later on by either preceding its name with a symbol "$" or enclosing it between symbols "${" and "}", with no spaces. For example:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;write  xyz    $compound.xyz</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;write  lammps ${compound}_config.lmp</div></div><!-- fragment --><p>In this example, Playmol would save an xyz file named <code>H2O.xyz</code> and a LAMMPS data file named <code>H2O_config.lmp</code>. Note that the use of curly brackets is required in the second line because Playmol would otherwise look for a variable named <code>compound_config</code>.</p>
<hr/>
<p> <a class="anchor" id="math"></a> </p><h2>Mathematical/Logical Expressions </h2>
<p>Playmol parses and evaluates mathematical or logical expressions placed inside curly brackets. This is done once all variable references have been properly substituted. After evaluating, Playmol will substitute the brackets and the expression by the obtained numerical result. For instance:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;define  factor  as 0.602214</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;define  density as { 1.3*$factor }</div></div><!-- fragment --><p>Mathematical expressions might result in an integer number or a real number. If it is a logical expression, the result might be either an integer <code>1</code> (meaning <code>true</code>) or an integer <code>0</code> (meaning <code>false</code>). Real numbers might be expressed using a decimal point (e.g. <code>2.0</code>) and/or scientific notation (e.g. <code>1.38E-23</code>). The order of precedence of mathematical/logical operators is given in <a href="#Table_1">Table 1</a> and the supported mathematical functions are listed in <a href="#Table_2">Table 2</a>. Note that there is no specific operator for the logical <code>NOT</code> in <a href="#Table_1">Table 1</a>. It is in fact implemented as the function <code>not()</code> present in <a href="#Table_2">Table 2</a>.</p>
<p><a class="anchor" id="Table_1"></a> <b>Table 1</b>: Precedence order of mathematical operators</p>
<table class="doxtable">
<tr>
<th align="center">Operator </th><th align="left">Description </th><th align="center">Prececence  </th></tr>
<tr>
<td align="center">| </td><td align="left">Logical OR </td><td align="center">1 (lowest) </td></tr>
<tr>
<td align="center">&amp; </td><td align="left">Logical AND </td><td align="center">2 </td></tr>
<tr>
<td align="center">&lt; <br />
 &lt;= <br />
 &gt; <br />
 &gt;= <br />
 == <br />
 != </td><td align="left">Relational operators </td><td align="center">3 </td></tr>
<tr>
<td align="center">+ <br />
 - </td><td align="left">Addition<br />
Subtraction </td><td align="center">4 </td></tr>
<tr>
<td align="center">* <br />
 / <br />
 % </td><td align="left">Multiplication<br />
Division<br />
Remainder </td><td align="center">5 </td></tr>
<tr>
<td align="center">^ </td><td align="left">Exponentiation </td><td align="center">6 </td></tr>
<tr>
<td align="center"><code>function( )</code> </td><td align="left">Functions (see <a href="#Table_2">Table 2</a>) </td><td align="center">7 </td></tr>
<tr>
<td align="center">( ) </td><td align="left">Parentheses </td><td align="center">8 (highest) </td></tr>
</table>
<p><a class="anchor" id="Table_2"></a> <b>Table 2</b>: Available mathematical functions</p>
<table class="doxtable">
<tr>
<th align="center">Function </th><th align="center">Result type </th><th align="left">Description  </th></tr>
<tr>
<td align="center">abs </td><td align="center">Same as argument </td><td align="left">Absolute value </td></tr>
<tr>
<td align="center">acos </td><td align="center">Real </td><td align="left">Inverse cosine </td></tr>
<tr>
<td align="center">asin </td><td align="center">Real </td><td align="left">Inverse sine </td></tr>
<tr>
<td align="center">atan </td><td align="center">Real </td><td align="left">Inverse tangent </td></tr>
<tr>
<td align="center">ceil </td><td align="center">Integer </td><td align="left">Smallest following integer </td></tr>
<tr>
<td align="center">cos </td><td align="center">Real </td><td align="left">Cosine </td></tr>
<tr>
<td align="center">cosh </td><td align="center">Real </td><td align="left">Hyperbolic cosine </td></tr>
<tr>
<td align="center">exp </td><td align="center">Real </td><td align="left">Exponential </td></tr>
<tr>
<td align="center">floor </td><td align="center">Integer </td><td align="left">Largest preceding integer </td></tr>
<tr>
<td align="center">int </td><td align="center">Integer </td><td align="left">Integer part </td></tr>
<tr>
<td align="center">ln </td><td align="center">Real </td><td align="left">Natural logarithm </td></tr>
<tr>
<td align="center">log </td><td align="center">Real </td><td align="left">Decimal logarithm </td></tr>
<tr>
<td align="center">nint </td><td align="center">Integer </td><td align="left">Nearest integer </td></tr>
<tr>
<td align="center">not </td><td align="center">0 or 1 </td><td align="left">Logical NOT </td></tr>
<tr>
<td align="center">sin </td><td align="center">Real </td><td align="left">Sine </td></tr>
<tr>
<td align="center">sinh </td><td align="center">Real </td><td align="left">Hyperbolic sine </td></tr>
<tr>
<td align="center">sqrt </td><td align="center">Real </td><td align="left">Square root </td></tr>
<tr>
<td align="center">tan </td><td align="center">Real </td><td align="left">Tangent </td></tr>
<tr>
<td align="center">tanh </td><td align="center">Real </td><td align="left">Hyperbolic tangent </td></tr>
</table>
<hr/>
 </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
